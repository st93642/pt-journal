warning: variable does not need to be mutable
   --> tests/ui_tests.rs:194:13
    |
194 |         let mut server = MockServer::start();
    |             ----^^^^^^
    |             |
    |             help: remove this `mut`
    |
    = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: `pt-journal` (test "ui_tests") generated 1 warning (run `cargo fix --test "ui_tests"` to apply 1 suggestion)
warning: unused import: `super::*`
   --> src/lib.rs:767:13
    |
767 |         use super::*;
    |             ^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `crate::store`
   --> src/lib.rs:769:13
    |
769 |         use crate::store;
    |             ^^^^^^^^^^^^

warning: unused import: `super::*`
   --> src/lib.rs:842:13
    |
842 |         use super::*;
    |             ^^^^^^^^

warning: `pt-journal` (lib test) generated 3 warnings (run `cargo fix --lib -p pt-journal --tests` to apply 3 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 2.15s
     Running unittests src/lib.rs (target/debug/deps/pt_journal-e12234c07dec33c0)

running 174 tests
test chatbot::ollama::tests::test_check_availability_success ... ok
test chatbot::ollama::tests::test_check_availability_failure ... ok
test chatbot::ollama::tests::test_send_message_success ... ok
test chatbot::ollama::tests::test_send_message_service_unavailable ... ok
test chatbot::ollama::tests::test_send_message_with_parameters ... ok
test chatbot::service::tests::test_service_check_availability ... ok
test chatbot::service::tests::test_service_unsupported_provider ... ok
test chatbot::service::tests::test_service_send_message_success ... ok
test config::tests::test_config_file_override_env ... ok
test config::tests::test_config_file_path ... ok
test config::tests::test_default_config ... ok
test config::tests::test_default_model_validation ... ok
test config::tests::test_environment_override ... ok
test config::tests::test_legacy_config_migration ... ok
test config::tests::test_load_nonexistent_config ... ok
test config::tests::test_save_and_load_config ... ok
test dispatcher::tests::test_clear_handlers ... ok
test dispatcher::tests::test_dispatcher_creation ... ok
test dispatcher::tests::test_message_variants ... ok
test dispatcher::tests::test_multiple_handlers ... ok
test dispatcher::tests::test_register_handler ... ok
test dispatcher::tests::test_shared_dispatcher ... ok
test dispatcher::tests::test_unregister_handler ... ok
test model::tests::test_evidence_attachment ... ok
test model::tests::test_evidence_structure ... ok
test model::tests::test_phase_with_steps ... ok
test model::tests::test_session_with_phases ... ok
test model::tests::test_step_description_notes ... ok
test model::tests::test_step_status_variants ... ok
test model::tests::test_step_tags ... ok
test model::tests::test_unique_ids ... ok
test quiz::tests::test_load_sample_file ... ok
test quiz::tests::test_parse_comment_line ... ok
test quiz::tests::test_parse_different_correct_answer ... ok
test quiz::tests::test_parse_empty_answer ... ok
test quiz::tests::test_parse_empty_domain ... ok
test quiz::tests::test_parse_empty_explanation ... ok
test quiz::tests::test_parse_empty_line ... ok
test quiz::tests::test_parse_empty_question_text ... ok
test quiz::tests::test_parse_empty_subdomain ... ok
test quiz::tests::test_parse_file_all_invalid ... ok
test quiz::tests::test_parse_file_with_invalid_lines ... ok
test quiz::tests::test_parse_file_with_multiple_questions ... ok
test quiz::tests::test_parse_insufficient_fields ... ok
test quiz::tests::test_parse_invalid_correct_index ... ok
test quiz::tests::test_parse_non_numeric_correct_index ... ok
test quiz::tests::test_parse_question_with_whitespace ... ok
test quiz::tests::test_parse_too_many_fields ... ok
test quiz::tests::test_parse_valid_question ... ok
test store::tests::test_backward_compatibility_without_chat_history ... ok
test store::tests::test_default_sessions_directory ... ok
test store::tests::test_load_empty_file ... ok
test store::tests::test_load_malformed_json ... ok
test chatbot::tests::test_context_builder ... ok
test store::tests::test_save_session_creates_directories ... ok
test store::tests::test_save_load_roundtrip ... ok
test store::tests::test_save_to_readonly_directory ... ok
test store::tests::test_save_session_with_unicode ... ok
test store::tests::test_session_file_permissions ... ok
test tests::edge_case_tests::test_empty_session_handling ... ok
test tests::edge_case_tests::test_phase_isolation ... ok
test tests::edge_case_tests::test_step_note_updates ... ok
test tests::edge_case_tests::test_session_metadata ... ok
test tests::integration_tests::test_comprehensive_session_workflow ... ok
test tests::integration_tests::test_full_session_workflow ... ok
test tests::integration_tests::test_methodology_coverage ... ok
test tests::integration_tests::test_phase_progression_workflow ... ok
test tests::integration_tests::test_session_data_validation ... ok
test tests::integration_tests::test_session_size_limits ... ok
test tests::integration_tests::test_step_content_completeness ... ok
test tests::model_tests::test_default_app_model ... ok
test tests::model_tests::test_model_navigation ... ok
test tests::integration_tests::test_session_isolation ... ok
test tests::model_tests::test_phase_structure ... ok
test tests::model_tests::test_session_creation ... ok
test tests::model_tests::test_step_status_transitions ... ok
test tests::model_tests::test_step_properties ... ok
test tests::model_tests::test_step_with_content ... ok
test tests::model_tests::test_unique_step_ids ... ok
test tests::performance_tests::test_memory_usage_estimate ... ok
test tests::performance_tests::test_session_creation_performance ... ok
test tests::performance_tests::test_serialization_performance ... ok
test tests::property_tests::test_notes_preservation ... ok
test tests::property_tests::test_session_name_preservation ... ok
test tests::store_tests::test_load_invalid_json ... ok
test tests::store_tests::test_load_nonexistent_file ... ok
test tools::executor::tests::test_executor_applies_env_vars ... ok
test tools::executor::tests::test_executor_captures_output ... ok
test tools::executor::tests::test_executor_checks_availability ... ok
test tools::executor::tests::test_executor_creation ... ok
test tools::executor::tests::test_executor_extracts_evidence ... ok
test tools::executor::tests::test_executor_measures_duration ... ok
test tools::executor::tests::test_executor_parses_results ... ok
test tools::executor::tests::test_executor_runs_command ... ok
test tools::executor::tests::test_executor_validates_prerequisites ... ok
test tools::registry::tests::test_registry_clear ... ok
test tools::registry::tests::test_registry_count ... ok
test tools::registry::tests::test_registry_creation ... ok
test tools::registry::tests::test_registry_discover_tools ... ok
test tools::registry::tests::test_registry_has_tool ... ok
test tools::registry::tests::test_registry_list_tools ... ok
test tools::registry::tests::test_registry_prevents_duplicate_registration ... ok
test tools::registry::tests::test_registry_register_tool ... ok
test tools::registry::tests::test_registry_unregister_nonexistent_tool ... ok
test tools::registry::tests::test_registry_unregister_tool ... ok
test tools::traits::tests::test_config_builder ... ok
test tools::traits::tests::test_config_builder_with_env_vars ... ok
test tools::traits::tests::test_security_tool_availability_failure ... ok
test tools::traits::tests::test_security_tool_build_command ... ok
test tools::traits::tests::test_security_tool_extract_evidence ... ok
test tools::traits::tests::test_security_tool_parse_output ... ok
test tools::traits::tests::test_security_tool_trait_implementation ... ok
test tools::traits::tests::test_security_tool_validate_prerequisites ... ok
test tools::traits::tests::test_tool_version_creation ... ok
test tools::traits::tests::test_tool_version_equality ... ok
test tutorials::bug_bounty_hunting::tests::test_bug_bounty_phase_loads ... ok
test tutorials::bug_bounty_hunting::tests::test_step_content_structure ... ok
test tutorials::ceh::tests::test_create_quiz_step_from_file ... ok
test tutorials::ceh::tests::test_get_all_ceh_steps ... ok
test tutorials::ceh::tests::test_load_module_01_steps ... ok
test tutorials::ceh::tests::test_load_questions_from_file_success ... ok
test tutorials::ceh::tests::test_load_questions_from_nonexistent_file ... ok
test tutorials::comptia_secplus::tests::test_create_quiz_step_from_file ... ok
test tutorials::comptia_secplus::tests::test_get_all_comptia_steps ... ok
test tutorials::comptia_secplus::tests::test_load_domain_1_steps ... ok
test tutorials::comptia_secplus::tests::test_load_questions_from_file_success ... ok
test tutorials::comptia_secplus::tests::test_load_questions_from_nonexistent_file ... ok
test tutorials::container_security::tests::test_container_security_quiz_file_exists ... ok
test tutorials::container_security::tests::test_container_security_quiz_minimum_questions ... ok
test tutorials::container_security::tests::test_get_container_security_steps_returns_steps ... ok
test tutorials::container_security::tests::test_quiz_step_creation ... ok
test tutorials::modern_web::tests::test_api_security_quiz_file_exists ... ok
test tutorials::modern_web::tests::test_api_security_quiz_minimum_questions ... ok
test tutorials::modern_web::tests::test_get_api_security_steps_returns_steps ... ok
test tutorials::modern_web::tests::test_quiz_step_creation ... ok
test tutorials::pentest_exam::tests::test_create_quiz_step_from_file ... ok
test tutorials::pentest_exam::tests::test_domain_1_steps ... ok
test tutorials::pentest_exam::tests::test_domain_2_steps ... ok
test tutorials::pentest_exam::tests::test_domain_3_steps ... ok
test tutorials::pentest_exam::tests::test_domain_4_steps ... ok
test tutorials::pentest_exam::tests::test_domain_5_steps ... ok
test tutorials::pentest_exam::tests::test_get_all_pentest_steps ... ok
test tutorials::pentest_exam::tests::test_load_questions_from_file_success ... ok
test tutorials::pentest_exam::tests::test_load_questions_from_nonexistent_file ... ok
test tutorials::serverless_security::tests::test_get_serverless_security_steps_returns_steps ... ok
test tutorials::serverless_security::tests::test_quiz_step_creation ... ok
test tutorials::serverless_security::tests::test_serverless_security_quiz_file_exists ... ok
test tutorials::serverless_security::tests::test_serverless_security_quiz_minimum_questions ... ok
test ui::detail_panel::tests::test_detail_panel_creation ... ok
test ui::file_ops::tests::test_save_session_to_existing_path ... ok
test ui::file_ops::tests::test_session_clone ... ok
test ui::header_bar::tests::test_module_compiles ... ok
test ui::sidebar::tests::test_sidebar_creation ... ok
test ui::state::tests::test_chat_operations ... ok
test ui::state::tests::test_evidence_operations ... ok
test ui::state::tests::test_select_phase ... ok
test ui::state::tests::test_select_step ... ok
test ui::state::tests::test_update_description_notes ... ok
test ui::state::tests::test_update_step_notes ... ok
test ui::state::tests::test_update_step_status ... ok
test ui::tool_execution::tests::test_renders_rich_instruction_sections ... ok
test ui::tool_execution::tests::test_terminal_operations ... ok
test ui::tool_execution::tests::test_tool_execution_panel_creation ... ok
test ui::tool_execution::tests::test_tool_selection_updates ... ok
test ui::tool_instructions::tests::ai_llm_security_tools_have_populated_sections ... ok
test ui::tool_instructions::tests::cloud_cli_tools_have_populated_sections ... ok
test ui::tool_instructions::tests::exploitation_and_credential_tools_have_populated_sections ... ok
test ui::tool_instructions::tests::grouped_manifest_preserves_ordering ... ok
test ui::tool_instructions::tests::manifest_matches_instruction_documents ... ok
test ui::tool_instructions::tests::post_ex_priv_esc_and_wireless_tools_have_populated_sections ... ok
test ui::tool_instructions::tests::recon_scanning_tools_have_populated_sections ... ok
test ui::tool_instructions::tests::red_team_frameworks_have_populated_sections ... ok
test ui::tool_instructions::tests::threat_hunting_tools_have_populated_sections ... ok
test tests::property_tests::test_step_notes_preservation ... ok

test result: ok. 174 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 110.49s

     Running unittests src/main.rs (target/debug/deps/pt_journal-639612caca2816f8)

running 1 test
test tests::test_application_creation ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/chat_provider_tests.rs (target/debug/deps/chat_provider_tests-24dda1a8c8f2b1b0)

running 9 tests
test chat_provider_tests::test_chat_request_bundles_all_fields ... ok
test chat_provider_tests::test_chat_service_uses_active_profile ... ok
test chat_provider_tests::test_chat_service_applies_profile_parameters ... ok
test chat_provider_tests::test_ollama_provider_check_availability ... ok
test chat_provider_tests::test_ollama_provider_embeds_correct_model_id ... ok
test chat_provider_tests::test_ollama_provider_honors_all_parameters ... ok
test chat_provider_tests::test_ollama_provider_honors_temperature_parameter ... ok
test chat_provider_tests::test_ollama_provider_unavailable ... ok
test chat_provider_tests::test_provider_name ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.39s

     Running tests/integration_tests.rs (target/debug/deps/integration_tests-2ff8456ed6094176)
[====>                                             ] 1/11 [=========>                                        ] 2/11 [=============>                                    ] 3/11 [==================>                               ] 4/11 [======================>                           ] 5/11 [===========================>                      ] 6/11 [===============================>                  ] 7/11 [====================================>             ] 8/11 [========================================>         ] 9/11 
thread 'main' (21310) panicked at tests/integration_tests.rs:151:18:
Failed to initialize GTK: BoolError { message: "Failed to initialize GTK", filename: "/home/engine/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/gtk4-0.9.7/src/rt.rs", function: "gtk4::rt::init", line: 159 }
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
[xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx>    ] 10/11 error: test failed, to rerun pass `--test integration_tests`

Caused by:
  process didn't exit successfully: `/home/engine/project/target/debug/deps/integration_tests-2ff8456ed6094176` (signal: 11, SIGSEGV: invalid memory reference)
